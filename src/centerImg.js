/**
 * @author makebanana
 * @version 1.0
 * @param {imgBox} Image adaptive parent element
 */
var centerImg=function(imgBox){var getImgNaturalDimensions=function(img,callback){if(new Image().naturalHeight===0){return function(img,callback){var nWidth,nHeight;nWidth=img.naturalWidth;nHeight=img.naturalHeight;callback(nWidth,nHeight)}}else{return function(img,callback){var image=new Image();image.src=img.src;image.onload=function(){callback(image.width,image.height)}}}}();var setCss=function(dom,cssObj){if(!dom){return}for(var x in cssObj){dom.style[x]=cssObj[x]}};var getCss=function(dom,styleName){if(window.getComputedStyle){return function(dom,styleName){return window.getComputedStyle(dom,'').getPropertyValue(styleName)}}else{return function(dom,styleName){if(styleName.indexOf('-')>-1){styleName=styleName.replace(/\-(\w)/g,function(all,letter){return letter.toUpperCase()})};return dom.currentStyle[styleName]}}}();return function(imgBox){var _img=imgBox.getElementsByTagName('img')[0];if(getCss(imgBox,'position')!=='relative'||getCss(imgBox,'position')!=='absolute'){imgBox.style.position='relative'};var _boxW=parseInt(getCss(imgBox,'width'));var _boxH=parseInt(getCss(imgBox,'height'));var _ratio=Math.floor(_boxW/_boxH*10000)/10000;_img.addEventListener('load',function(){var _imgRatio;getImgNaturalDimensions(_img,function(a,b){_imgRatio=Math.floor(a/b*10000)/10000;if(_imgRatio>_ratio){var _reW=Math.floor((_boxH/b)*a);setCss(_img,{'position':'absolute','height':'100%','width':'auto','left':'50%','marginLeft':'-'+_reW/2+'px'})}if(_imgRatio<_ratio){var _reH=Math.floor((_boxW/a)*b);setCss(_img,{'position':'absolute','height':'auto','width':'100%','top':'50%','marginTop':'-'+_reH/2+'px'})}})})}}();if(window.F){F.module('centerImg',function(){return null})};
